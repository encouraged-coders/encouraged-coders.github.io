{
  "name": "hugo-extended",
  "build": {
    "dockerfile": "Dockerfile",
    "args": {
      // Pin the exact Hugo EXTENDED version you want
      "HUGO_VERSION": "0.136.5"
    }
  },

  // Cache the Go module store so "hugo mod" is faster across rebuilds
  "mounts": [
    "type=cache,target=/go/pkg/mod"
  ],

  "forwardPorts": [1313],

  // Verify installs and refresh modules on first start
  "postCreateCommand": "hugo version && go version && node --version && npm --version && hugo mod get -u",

  "settings": {
    "terminal.integrated.defaultProfile.linux": "bash"
  },

  "customizations": {
    "vscode": {
      "extensions": [
        "budparr.language-hugo-vscode",
        "esbenp.prettier-vscode",
        "streetsidesoftware.code-spell-checker",
        "adam-bender.commit-message-editor",
        "mhutchie.git-graph",
        "DavidAnson.vscode-markdownlint"
      ]
    }
  },

  "remoteEnv": {
    // Helps Hugo live reload work nicely in Codespaces
    "HUGO_BIND": "0.0.0.0"
  }
}
